<!-- app/templates/roadmap.html -->
{% extends "base.html" %}

{% block content %}
<div class="roadmap-box panel-box"> {# Optional class #}
    <h1>Roadmap: {{ project.name }}</h1>
    <p><a href="{{ url_for('main.project_detail', project_id=project.id) }}">Back to Project Details</a></p>

     {% if current_user.is_admin %}
    <p><a href="{{ url_for('main.create_milestone', project_id=project.id) }}" class="btn btn-secondary">Add New Milestone</a></p>
    {% endif %}

    {% if milestones %}
        {# Add the milestone-timeline class for CSS targeting #}
        <ul class="milestone-timeline">
            {% for milestone in milestones %}
            <li>
                {# Add specific classes for easier CSS targeting #}
                <span class="milestone-date">{{ milestone.target_date.strftime('%Y-%m-%d') }}</span>
                <strong class="milestone-name">{{ milestone.name }}</strong>
                {% if milestone.description %}
                    <p class="milestone-desc">{{ milestone.description }}</p>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No milestones defined for this project yet.</p>
    {% endif %}
</div>

{# The <style> block that was previously here has been removed. #}

{% endblock %}