{# Represents a single task item in a list #}
<div class="list-group-item list-group-item-action list-item-pandora task-item mb-2">
    <div class="d-flex w-100 justify-content-between">
        <h5 class="mb-1 task-name">{{ task.name }}</h5>
        <small class="text-muted">
             {% if task.due_date %}Due: {{ task.due_date.strftime('%Y-%m-%d') }}{% endif %}
        </small>
    </div>
    <p class="mb-1 task-description">{{ task.description | truncate(150, True) if task.description else 'No description.' }}</p>
    <div class="d-flex justify-content-between align-items-center mt-2">
         <form action="{{ url_for('projects.update_task_status_route', project_id=project._id, task_id=task._id) }}" method="POST" class="d-inline-block">
             <label for="status-{{ task._id }}" class="visually-hidden">Update Status</label>
             <select name="status" id="status-{{ task._id }}" class="form-select form-select-sm d-inline-block w-auto me-2 status-select-pandora" onchange="this.form.submit()">
                 {% set possible_statuses = ["To Do", "In Progress", "Done", "Blocked", "Review"] %}
                 {% for status_option in possible_statuses %}
                    <option value="{{ status_option }}" {{ 'selected' if status_option == task.status else '' }}>
                        {{ status_option }}
                    </option>
                 {% endfor %}
             </select>
             <noscript><button type="submit" class="btn btn-sm btn-pandora-secondary">Update</button></noscript>
         </form>
        <div>
            {# Add Edit Button (Link to Edit Task Route) #}
            <!-- <a href="{{ url_for('projects.edit_task', project_id=project._id, task_id=task._id) }}" class="btn btn-sm btn-pandora-secondary me-2" title="Edit Task">
                 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                   <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"/>
                 </svg>
             </a> -->
            {# Delete Task Button #}
            <form action="{{ url_for('projects.delete_task', project_id=project._id, task_id=task._id) }}" method="POST" class="d-inline" onsubmit="return confirm('Are you sure you want to delete task \'{{ task.name }}\'?');">
                <button type="submit" class="btn btn-sm btn-outline-danger" title="Delete Task">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                    </svg>
                </button>
            </form>
        </div>
    </div>
    <small class="text-muted task-meta">
        Created: {{ task.created_at.strftime('%Y-%m-%d %H:%M') if task.created_at else 'N/A' }} UTC
        {# | Assigned to: {{ task.assigned_to }} #}
    </small>
</div>